//>>built
require({cache:{"url:dobolo/templates/Calendar.html":'<div class="calendar dropdown-menu">\n    <div class="calendar-days">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody></tbody>\n        </table>\n    </div>\n    <div class="calendar-months">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan="7"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="calendar-years">\n        <table class="table-condensed">\n            <thead>\n                <tr>\n                    <th class="prev"><i class="icon-arrow-left"/></th>\n                    <th colspan="5" class="switch"></th>\n                    <th class="next"><i class="icon-arrow-right"/></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td colspan="7"></td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</div>'}});
define("dobolo/Calendar","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojo/date,dojo/query,dojo/_base/lang,dojo/on,dojo/dom-class,dojo/dom-attr,dojo/dom-construct,dojo/dom-style,dojo/text!./templates/Calendar.html,dojo/i18n!dojo/cldr/nls/gregorian,dojo/NodeList-dom,dojo/NodeList-traverse".split(","),function(o,p,q,r,c,s,n,i,t,k,d,u,m){var l=[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}];return o([p,
q],{templateString:u,weekStart:0,posTop:0,posLeft:0,viewMode:0,date:new Date,viewDate:new Date,_setPosTop:function(a){this._set("posTop",a)},_setPosLeft:function(a){this._set("posLeft",a)},_setDateAttr:function(a){this._set("date",a);this._created&&this.update(this.get("date"))},_setWeekStartAttr:function(a){this._set("weekStart",a||0);this._created&&this.update(this.get("date"))},postCreate:function(){this.own(n(this.domNode,"mousedown",s.hitch(this,"mousedown")));this.own(n(this.domNode,"click",
function(a){a.stopPropagation();a.preventDefault()}));this.weekEnd=0===this.weekStart?6:this.weekStart-1;this.fillDow();this.fillMonths();this.update(this.date);this.showMode()},position:function(){d.set(this.domNode,{left:this.posLeft,top:this.posTop})},show:function(){d.set(this.domNode,"display","block");this.emit("show",{bubbles:!0,cancelable:!0,date:this.date})},hide:function(){d.set(this.domNode,"display","none");this.viewMode=0;this.showMode();this.emit("hide",{bubbles:!0,cancelable:!0,date:this.date})},
update:function(a){var b=new Date;this.date=a instanceof Date?new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0):new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0);this.viewDate=new Date(this.date);this.fill()},fillDow:function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="dow">'+m["days-standAlone-narrow"][a++%7]+"</th>";k.place(b+"</tr>",c(".calendar-days thead",this.domNode)[0])},fillMonths:function(){for(var a="",b=0;12>b;)a+='<span class="month" data-dojo-month="'+
b+'">'+m["months-standAlone-abbr"][b++]+"</span>";k.place(a,c(".calendar-months td",this.domNode)[0])},fill:function(){var a,b=[],j=new Date(this.viewDate),e=j.getFullYear(),g=j.getMonth(),h=this.date.valueOf(),j=this.date.getFullYear(),f=new Date(e,g-1,28,0,0,0,0);a=r.getDaysInMonth(f);c(".calendar-days th.switch",this.domNode)[0].innerHTML=m["months-standAlone-wide"][g]+" "+e;f.setDate(a);f.setDate(a-(f.getDay()-this.weekStart+7)%7);var d=new Date(f);d.setDate(d.getDate()+42);for(d=d.valueOf();f.valueOf()<
d;)f.getDay()===this.weekStart&&b.push("<tr>"),a="",f.getMonth()<g?a+=" old":f.getMonth()>g&&(a+=" new"),f.valueOf()===h&&(a+=" active"),b.push('<td class="day'+a+'">'+f.getDate()+"</td>"),f.getDay()===this.weekEnd&&b.push("</tr>"),f.setDate(f.getDate()+1);k.empty(c(".calendar-days tbody",this.domNode)[0]);k.place(b.join(" "),c(".calendar-days tbody",this.domNode)[0]);b=c(".calendar-months",this.domNode);c("th.switch",b[0])[0].innerHTML=e;c("span",b[0]).removeClass("active");j===e&&i.add(c("span",
b[0])[this.date.getMonth()],"active");b="";e=10*parseInt(e/10,10);g=c(".calendar-years",this.domNode);c("th.switch",g[0]).innerHTML=e+"-"+(e+9);g=c("td",g[0]);e-=1;for(h=-1;11>h;h++)b+='<span class="year'+(-1===h||10===h?" old":"")+(j===e?" active":"")+'">'+e+"</span>",e+=1;g[0].innerHTML=b},mousedown:function(a){var b,d;a.stopPropagation();a.preventDefault();b=c(a.target).closest("span, td, th");if(1===b.length)switch(b[0].nodeName.toLowerCase()){case "th":switch(b[0].className){case "switch":this.showMode(1);
break;case "prev":case "next":this.viewDate["set"+l[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+l[this.viewMode].navFnc].call(this.viewDate)+l[this.viewMode].navStep*("prev"===b[0].className?-1:1)),this.fill()}break;case "span":i.contains(b[0],"month")?(a=t.get(b[0],"data-dojo-month"),this.viewDate.setMonth(a)):(b=parseInt(b[0].innerText||b[0].textContent,10)||0,this.viewDate.setFullYear(b));this.showMode(-1);this.fill();break;case "td":i.contains(b[0],"day")&&(d=parseInt(b[0].innerText||
b[0].textContent,10)||1,a=this.viewDate.getMonth(),i.contains(b[0],"old")?a-=1:i.contains(b[0],"new")&&(a+=1),b=this.viewDate.getFullYear(),this.set("date",new Date(b,a,d,0,0,0,0)),this.set("viewDate",new Date(b,a,d,0,0,0,0)),this.fill(),this.hide())}},showMode:function(a){if(a)this.viewMode=Math.max(0,Math.min(2,this.viewMode+a));c(">div",this.domNode).forEach(function(a){d.set(a,"display","none")});c(">div.calendar-"+l[this.viewMode].clsName,this.domNode).forEach(function(a){d.set(a,"display","block")})}})});