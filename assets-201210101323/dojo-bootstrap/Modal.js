//>>built
define("dojo-bootstrap/Modal","./Support,dojo/_base/declare,dojo/query,dojo/_base/lang,dojo/_base/window,dojo/on,dojo/dom-class,dojo/dom-construct,dojo/dom-attr,dojo/dom-style,dojo/request,dojo/NodeList-dom,dojo/NodeList-traverse,dojo/NodeList-manipulate,dojo/domReady!".split(","),function(e,q,h,f,g,d,c,j,i,l,r){function s(a){var b=i.get(a,"data-target");b||(b=(b=i.get(a,"href"))&&b.replace(/.*(?=#[^\s]*$)/,""));return!b?"":b}function t(){var a=this,b=setTimeout(function(){a.hideEvent&&a.hideEvent.remove();
k.call(a)},500);a.hideEvent=e.trans?d.once(a.domNode,e.trans.end,function(){clearTimeout(b);k.call(a)}):null}function k(){l.set(this.domNode,"display","none");d.emit(this.domNode,"hidden",{bubbles:!1,cancelable:!1});m.call(this)}function m(a){var b=c.contains(this.domNode,"fade")?"fade":"";if(this.isShown&&this.options.backdrop){var u=e.trans&&b;this.backdropNode=j.place('<div class="modal-backdrop '+b+'" />',g.body());"static"!==this.options.backdrop&&d(this.backdropNode,"click",f.hitch(this,"hide"));
c.add(this.backdropNode,"in");if(u)d.once(this.backdropNode,e.trans.end,a);else a()}else if(!this.isShown&&this.backdropNode)if(c.remove(this.backdropNode,"in"),e.trans&&c.contains(this.domNode,"fade"))d.once(this.backdropNode,e.trans.end,f.hitch(this,n));else n.call(this);else a&&a()}function n(){j.destroy(this.backdropNode);this.backdropNode=null}function o(){var a=this;a.isShown&&a.options.keyboard?a.keyupEvent=d(g.body(),"keyup",function(b){27===b.which&&a.hide()}):a.isShown||a.keyupEvent&&a.keyupEvent.remove()}
function v(){var a=this;a.focusInEvent=d(document,d.selector(".modal","focusin"),function(b){a.domNode!==b.target&&!h(b.target,a.domNode).length&&a.domNode.focus()})}var p=q([],{defaultOptions:{backdrop:!0,keyboard:!0,show:!0},constructor:function(a,b){this.options=f.mixin(f.clone(this.defaultOptions),b||{});this.domNode=a;d(this.domNode,d.selector("[data-dismiss=modal]","click"),f.hitch(this,this.hide));this.options.remote&&r(this.options.remote).then(function(a){h(".modal-body",this.element).html(a)})},
toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(a){var b=this;d.emit(this.domNode,"show",{bubbles:!1,cancelable:!1});if(!this.isShown||!a.defaultPrevented)c.add(g.body(),"modal-open"),this.isShown=!0,o.call(this),m.call(this,function(){var a=e.trans&&c.contains(b.domNode,"fade");h(b.domNode).parent().length||j.place(b.domNode,g.body());l.set(b.domNode,"display","block");c.add(b.domNode,"in");i.set(b.domNode,"aria-hidden",!1);b.domNode.focus();v.call(b);if(a)d.once(b.domNode,
e.trans.end,function(){d.emit(b.domNode,"shown",{bubbles:!1,cancelable:!1})});else d.emit(b.domNode,"shown",{bubbles:!1,cancelable:!1})})},hide:function(a){d.emit(this.domNode,"hide",{bubbles:!1,cancelable:!1});a&&a.preventDefault();if(this.isShown||!a.defaultPrevented)this.isShown=!1,c.remove(g.body(),"modal-open"),o.call(this),this.focusInEvent&&this.focusInEvent.remove(),c.remove(this.domNode,"in"),i.set(this.domNode,"aria-hidden",!0),e.trans&&c.contains(this.domNode,"fade")?t.call(this):k.call(this)}});
f.extend(h.NodeList,{modal:function(a){return this.forEach(function(b){var d=f.mixin({},f.mixin(e.getData(b),f.isObject(a)&&a)),c=e.getData(b,"modal");c||e.setData(b,"modal",c=new p(b,d));f.isString(a)?c[a].call(c):c&&c.options.show&&c.show()})}});d(g.body(),d.selector("[data-toggle=modal]","click"),function(a){var b=h(s(a.target));if(void 0!==b[0]){var c=i.get(a.target,"href"),c=e.getData(b,"modal")?"toggle":f.mixin({remote:!/#/.test(c)&&c},f.mixin(e.getData(b),e.getData(a.target)));b.modal(c);d.once(b[0],
"hide",function(){b[0].focus()})}a&&a.preventDefault()});return p});