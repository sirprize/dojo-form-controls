//>>built
define("dobolo/DatepickerInput","dojo/_base/declare,mijit/_WidgetBase,mijit/_TemplatedMixin,dojo/_base/window,dojo/_base/lang,dojo/date/locale,dojo/on,dojo/dom-geometry,./Calendar".split(","),function(f,g,h,i,c,d,b,j,k){return f([g,h],{templateString:'<input type="text" data-dojo-attach-point="containerNode"/>',format:"full",date:null,weekStart:0,_setFormatAttr:function(a){this._set("format","long"===a||"short"===a||"medium"===a||"full"===a?a:"full")},_setWeekStartAttr:function(a){this._set("weekStart",
a)},_setDateAttr:function(a){this._setValueAndDate(a)},_setValueAttr:function(a){this._setValueAndDate(a)},_setValueAndDate:function(a){var c=this.get("value"),b=this,e=function(a,d){b.domNode.value=a;b._set("value",a);b._set("date",d);if(c!==a)b.onChange(a)};a&&!(a instanceof Date)&&(a=d.parse(a,{formatLength:this.get("format"),selector:"date"}));if(!a)return e("",null);e(d.format(a,{formatLength:this.get("format"),selector:"date"}),a)},onChange:function(){},positionCalendar:function(){var a=j.position(this.domNode,
!0);this.calendar.set("posTop",a.y+this.domNode.offsetHeight+"px");this.calendar.set("posLeft",a.x+"px");this.calendar.position()},showCalendar:function(){this.calendar.placeAt(document.body,"last");this.positionCalendar();this.calendar.show()},hideCalendar:function(){this.calendar.hide()},postCreate:function(){this.inherited(arguments);this.own(this.calendar=new k({weekStart:this.weekStart,date:this.date}));this.own(this.watch("date",c.hitch(this,function(a,b,c){this.calendar.set("date",c)})));this.own(this.calendar.watch("date",
c.hitch(this,function(a,c,b){this.set("date",b)})));this.own(b(this.calendar,"show",c.hitch(this,function(){this.emit("show-calendar",{bubbles:!0,cancelable:!0})})));this.own(b(this.calendar,"hide",c.hitch(this,function(){this.emit("hide-calendar",{bubbles:!0,cancelable:!0})})));this.calendar.startup();this.own(b(i.global,"resize",c.hitch(this,"positionCalendar")));this.own(b(this.domNode,"focus",c.hitch(this,"showCalendar")));this.own(b(this.domNode,"click",c.hitch(this,"showCalendar")));this.own(b(this.domNode,
"blur",c.hitch(this,"hideCalendar")));this.own(b(this.domNode,"keydown",c.hitch(this,function(a){(9===a.keyCode||13===a.keyCode)&&this.calendar.hide()})));this.own(b(this.domNode,"keyup",c.hitch(this,function(){this.set("date",this.get("date"))})))}})});